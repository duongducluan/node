{"ast":null,"code":"var initiallState = [];\n\nconst fineIndex = (products, id) => {\n  var index = -1;\n\n  for (var i = 0; i < products.length; i++) {\n    // products[i].id=id\n    if (id === products[i].id) {\n      //  products[i].id=id\n      index = i;\n    }\n  }\n\n  return index;\n};\n\nvar todos = JSON.parse(localStorage.getItem('tasks'));\nvar initiallState = todos ? todos : [];\n\nconst tasks = (state = initiallState, action) => {\n  switch (action.type) {\n    case 'ADD-PRODUCT':\n      var index = fineIndex(state, action.product.id);\n\n      if (index === -1) {\n        state.push(action.product);\n        localStorage.setItem('tasks', JSON.stringify(state));\n      }\n\n      return [...state];\n\n    case 'GET-PRODUCT':\n      console.log(state);\n      return [...state];\n\n    case 'COUNT':\n      var index = fineIndex(state, action.id);\n\n      if (index !== -1) {\n        state[index].amount = action.value;\n        localStorage.setItem('tasks', JSON.stringify(state));\n      }\n\n      return [...state];\n\n    case 'TOTAL-MONEY':\n      var index = fineIndex(state, action.id);\n\n      if (index !== -1) {\n        state[index].sumPrice = action.value * state[index].price;\n        localStorage.setItem('tasks', JSON.stringify(state));\n      }\n\n      return [...state];\n\n    case 'REMOVE-PRODUCT':\n      var index = fineIndex(state, action.id);\n      state.splice(index, 1);\n      localStorage.setItem('tasks', JSON.stringify(state));\n      return [...state];\n\n    case 'REMOVE-ALL':\n      state.splice(0, state.length);\n      localStorage.setItem('tasks', JSON.stringify(state));\n      return [...state];\n\n    default:\n      return [...state];\n  }\n};\n\nexport default tasks;","map":{"version":3,"sources":["D:/trainning react/lesson17-app-oclock/my-app/src/reducers/addtasks.js"],"names":["initiallState","fineIndex","products","id","index","i","length","todos","JSON","parse","localStorage","getItem","tasks","state","action","type","product","push","setItem","stringify","console","log","amount","value","sumPrice","price","splice"],"mappings":"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","sourcesContent":["var initiallState=[];\r\nconst fineIndex=(products,id)=>{\r\n    var index=-1;\r\n    for(var i=0;i<products.length;i++){\r\n       // products[i].id=id\r\n        if(id===products[i].id){\r\n          //  products[i].id=id\r\n          index=i;\r\n        }\r\n    }\r\n    return index\r\n}\r\nvar todos=JSON.parse(localStorage.getItem('tasks'))\r\nvar initiallState=todos? todos:[];\r\nconst tasks=(state=initiallState,action)=>{\r\n    switch(action.type){\r\n        case 'ADD-PRODUCT':\r\n    var index=fineIndex(state,action.product.id)    \r\n       if(index===-1){\r\n           state.push(action.product)\r\n           localStorage.setItem('tasks',JSON.stringify(state))\r\n         }\r\n            return [...state]\r\n        case 'GET-PRODUCT':\r\n            console.log(state)\r\n         return [...state]\r\n        case 'COUNT':\r\n            var index=fineIndex(state,action.id)\r\n            if(index!==-1){\r\n            state[index].amount=action.value;\r\n            localStorage.setItem('tasks',JSON.stringify(state))\r\n            }\r\n             return [...state]\r\n             case 'TOTAL-MONEY':\r\n            var index=fineIndex(state,action.id)\r\n            if(index!==-1){\r\n            state[index].sumPrice=action.value *state[index].price;\r\n            localStorage.setItem('tasks',JSON.stringify(state))\r\n            }\r\n             return [...state]\r\n        case 'REMOVE-PRODUCT':\r\n            var index=fineIndex(state,action.id) \r\n           state.splice(index,1)\r\n           localStorage.setItem('tasks',JSON.stringify(state))\r\n            return [...state]\r\n        case 'REMOVE-ALL':\r\n            state.splice(0,state.length)\r\n            localStorage.setItem('tasks',JSON.stringify(state))\r\n            return [...state]  \r\n            default: return [...state];\r\n        }\r\n}\r\nexport default tasks;"]},"metadata":{},"sourceType":"module"}